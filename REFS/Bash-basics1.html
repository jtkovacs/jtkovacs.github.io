<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="text/css" http-equiv="Content-Style-Type"/>
  <meta content="pandoc" name="generator"/>
  <title>
  </title>
  <link href="refs.css" rel="stylesheet" type="text/css"/>
  <style type="text/css">
   div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
 </head>
 <body>
  <ul>
   <li>
    <a href="#bash-basics">
     Bash basics
    </a>
    <ul>
     <li>
      <a href="#what-is-bash?">
       What is Bash?
      </a>
     </li>
     <li>
      <a href="#set-up-bash">
       Set up Bash
      </a>
     </li>
     <li>
      <a href="#manage-system">
       Manage system
      </a>
      <ul>
       <li>
        <a href="#get-more-information">
         Get more information
        </a>
       </li>
      </ul>
     </li>
     <li>
      <a href="#navigate-filesystem">
       Navigate filesystem
      </a>
      <ul>
       <li>
        <a href="#manipulate-filesystem">
         Manipulate filesystem
        </a>
       </li>
      </ul>
     </li>
     <li>
      <a href="#manage-permissions">
       Manage permissions
      </a>
     </li>
     <li>
      <a href="#chain-and-redirect">
       Chain and redirect
      </a>
     </li>
    </ul>
   </li>
  </ul>
  <h1>
   <a name="bash-basics">
    Bash basics
   </a>
  </h1>
  <h2>
   <a name="what-is-bash?">
    What is Bash?
   </a>
  </h2>
  <p>
   Through a (virtual) terminal you can send commands to the shell, which passes commands along to the OS. You could also write scripts for the shell to run. The terminology around this is muddled because of the way computer architecture has evolved and because the same words are used differently across operating systems and computing subfields (
   <a href="http://stackoverflow.com/questions/21464073/shells-vs-command-interpreters-vs-command-line">
    1
   </a>
   ,
   <a href="http://askubuntu.com/questions/506510/what-is-the-difference-between-terminal-console-shell-and-command-line#comment683259_506510">
    2
   </a>
   ,
   <a href="http://askubuntu.com/questions/506510/what-is-the-difference-between-terminal-console-shell-and-command-line">
    3
   </a>
   ,
   <a href="http://stackoverflow.com/questions/21014344/terminal-or-console-or-shell-or-command-prompt">
    4
   </a>
   ,
   <a href="http://linuxcommand.org/lts0010.php">
    5
   </a>
   ):
  </p>
  <ul>
   <li>
    A
    <strong>
     terminal
    </strong>
    is any environment for text I/O.
    <strong>
     Console
    </strong>
    is an old word for a physical terminal. Many terminals are now
    <a href="http://askubuntu.com/questions/14284/why-is-a-virtual-terminal-virtual-and-what-why-where-is-the-real-terminal">
     virtual
    </a>
    , also called terminal emulators. In Unix, "everything is a file"; a terminal is controlled by a
    <a href="http://www.linusakesson.net/programming/tty/index.php">
     tty device file
    </a>
    .
   </li>
   <li>
    A
    <strong>
     shell
    </strong>
    is a very general term meaning any program that controls and runs other programs; however, a command line shell (also called a
    <strong>
     CLI
    </strong>
    , command line interface) is often called 'the shell' for short. The term comes from
    <a href="https://en.wikipedia.org/wiki/Unix_architecture">
     Unix architecture
    </a>
    : shell wraps around kernel which wraps around hardware.
   </li>
   <li>
    <strong>
     Bash
    </strong>
    is the default CLI for Linux and Mac. Windows has Command Prompt; to get Bash for Windows, install
    <a href="https://cygwin.com/install.html">
     Cygwin
    </a>
    .
   </li>
  </ul>
  <p>
   In addition to commands that are typed and entered, Bash responds to hotkeys (
   <code>
    ^
   </code>
   means
   <code>
    ctrl
   </code>
   ):
  </p>
  <div class="sourceCode">
   <pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># tab to autocomplete</span>
<span class="co"># ^L to clear the screen</span>
<span class="co"># ^d sends EOF</span>
<span class="co"># ^c interrupts/quits</span>
<span class="co"># ^k to kill (cut)</span>
<span class="co"># ^y to yank (paste)</span></code></pre>
  </div>
  <h2>
   <a name="set-up-bash">
    Set up Bash
   </a>
  </h2>
  <p>
   Bash lets you control your environment by adding messages, defining aliases, setting the values of environment variables, etc.
  </p>
  <ul>
   <li>
    Defining an alias means giving a new name to an existing command or giving a name to a whole sequence of existing commands. Define aliases by adding them to
    <code>
     .bash_profile
    </code>
    or, to make them persist across sessions, to
    <code>
     .bashrc
    </code>
    .
   </li>
   <li>
    Environment variables are used across commands, sessions, and programs:
   </li>
   <li>
    <code>
     $HOME
    </code>
    : path of home directory
   </li>
   <li>
    <code>
     $PATH
    </code>
    : directories containing command line scripts
   </li>
   <li>
    <code>
     $PS1
    </code>
    : defines style of command prompt
   </li>
  </ul>
  <div class="sourceCode">
   <pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">nano</span> ~/.bash_profile  <span class="co"># create/edit preferences file</span>
<span class="kw">source</span> ~/.bash_profile  <span class="co"># activates newly edited profile for current session</span>

<span class="kw">echo</span> message_string  <span class="co"># add new session greeting message to .bash_profile</span>

<span class="kw">alias</span>  <span class="co"># displays all current aliases </span>
<span class="kw">alias</span> pd=<span class="st">"pwd"</span>  <span class="co"># rename an existing command</span>
<span class="kw">alias</span> nwnano = <span class="st">"touch file1 &amp;&amp; nano file2"</span>  <span class="co"># make new command from sequence of existing commands</span>
<span class="kw">unalias</span> pd  <span class="co"># removes alias</span>

<span class="kw">env</span>  <span class="co"># view all environment variables</span>
<span class="kw">env</span> <span class="kw">|</span> <span class="kw">grep</span> REGEX  <span class="co"># filter and view environment variables</span>
<span class="kw">export</span> <span class="ot">USER</span> <span class="ot">=</span> <span class="st">"user_name"</span>  <span class="co"># type in .bash_profile to create environment variable</span>
<span class="kw">echo</span> <span class="ot">$USER</span>  <span class="co"># print environment variable</span></code></pre>
  </div>
  <h2>
   <a name="manage-system">
    Manage system
   </a>
  </h2>
  <div class="sourceCode">
   <pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">df</span>  <span class="co"># check space on disk, in KB</span>
<span class="kw">df</span> -h  <span class="co"># " in MB/GB</span>
<span class="kw">watch</span> -n 5 [command]  <span class="co"># repeat a command or script even 5 seconds</span>
<span class="kw">watch</span> -n 10 free -m  <span class="co"># show memory usage in MB every 10 seconds</span>

<span class="kw">top</span>  <span class="co"># list top processes</span>
<span class="kw">ps</span> aux  <span class="co"># list all running processes</span>
<span class="kw">ps</span> aux <span class="kw">|</span> <span class="kw">grep</span> regex_pattern  <span class="co"># search running processes</span>
<span class="kw">kill</span> processID  <span class="co"># get PID from ps aux's output</span>
<span class="kw">kill</span> -9 processID  <span class="co"># kill process immediately</span>

<span class="kw">sudo</span> apt-get update  <span class="co"># fetch list of available packages</span>
<span class="kw">sudo</span> apt-get upgrade  <span class="co"># updates packages according to apt-get update's list</span>
<span class="kw">sudo</span> apt-get dist-upgrade  <span class="co"># like apt-get upgrade, but handles dependencies better</span></code></pre>
  </div>
  <h3>
   <a name="get-more-information">
    Get more information
   </a>
  </h3>
  <div class="sourceCode">
   <pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">lsb_release</span> -a  <span class="co"># Linux version</span>
<span class="kw">nano</span> /etc/issue  <span class="co"># Linux version</span>
<span class="kw">uname</span> -a  <span class="co"># information about system: Linux or Unix, 32- or 64-bit, etc.</span>
<span class="kw">hostname</span>  <span class="co"># computer's network name</span>
<span class="kw">groups</span>  <span class="co"># list of all groups your username is in</span>
<span class="kw">host</span> domain  <span class="co"># DNS lookup on URL, IPv4, IPv6</span>

<span class="kw">history</span>  <span class="co"># view commands history</span>
!<span class="kw">hnum</span>  <span class="co"># re-run a command using its history number</span>
<span class="kw">history</span> -c  <span class="co"># clear history</span>

<span class="kw">help</span> command_name
<span class="kw">type</span> command_name
<span class="kw">which</span> command_name
<span class="kw">file</span> path/command_name
<span class="kw">man</span> command_name  <span class="co"># documentation; type 'q' to exit</span>
<span class="kw">man</span> -k searchstring  <span class="co"># search in mans' short descriptions for searchstring</span>
<span class="kw">apropos</span> command_name  <span class="co"># find appropriate man page </span>
<span class="kw">whatis</span> command_name  <span class="co"># one-line man page summary</span>
<span class="co"># ^R to 'reverse-i-search' the command history</span></code></pre>
  </div>
  <h2>
   <a name="navigate-filesystem">
    Navigate filesystem
   </a>
  </h2>
  <p>
   The
   <strong>
    Linux filesystem
   </strong>
   is a tree of directories (folders) containing files. Unlike Windows, the Linux filesystem has a single root directory. Typically, in addition to users' home directories, root will contain these directories:
  </p>
  <ul>
   <li>
    <strong>
     bin
    </strong>
    : binary files/shell scripts available to all programs
   </li>
   <li>
    <strong>
     opt
    </strong>
    : commercial software installations
   </li>
   <li>
    <strong>
     temp, var
    </strong>
    : files that change a lot or are frequently deleted, e.g. logs
   </li>
  </ul>
  <p>
   <strong>
    Directory and file names
   </strong>
   in Linux are case sensitive, but Linux does not require you to specify file extensions. Names can include any character except /, although to do so some characters (
   <code>
    $, &lt;, &gt;, &amp;, |, ;, ", ', \
   </code>
   ) must be escaped
   <code>
    \
   </code>
   or contained by quotes. A directory or file will be hidden if its name begins with a period.
  </p>
  <p>
   In addition to a name, every directory and file has an
   <strong>
    address
   </strong>
   (or path) that can be given in absolute terms (starting from the root:
   <code>
    /dir1/dir2/filename
   </code>
   ) or in relative terms (starting from the current location:
   <code>
    dir2/filename
   </code>
   , if
   <code>
    dir1
   </code>
   is your current location). When specifying an address, there are shortcut symbols denoting different parts of the filesystem:
  </p>
  <div class="sourceCode">
   <pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">pwd</span>  <span class="co"># print working directory (current location)</span>

<span class="kw">cd</span> path/directory_name  <span class="co"># move to a new directory</span>
<span class="kw">cd</span> ../../dirname  <span class="co"># go two directories up, then down</span>
<span class="co"># /, the root</span>
<span class="co"># ~, the user's home directory</span>
<span class="co"># ~username, a specified user's home directory</span>
<span class="co"># ., the current directory</span>
<span class="co"># .., the current directory's parent directory </span>
<span class="co"># â€“, the prior working directory</span>

<span class="kw">ls</span>  <span class="co"># list files in the working directory </span>
<span class="kw">ls</span> -a  <span class="co"># list hidden files too</span>
<span class="kw">ls</span> -t  <span class="co"># list by time-last-modified instead of alphabetically</span>
<span class="kw">ls</span> -r  <span class="co"># list content in reverse order</span>
<span class="kw">ls</span> -art  <span class="co"># options can be chained; equivalently, ls -a -l -t</span>

<span class="kw">ls</span> -R  <span class="co"># list all content in working directory, including content in subdirectories </span>
<span class="kw">find</span>  <span class="co"># list all files contained in the working directory and its subdirectories; same as ls -aR</span></code></pre>
  </div>
  <h3>
   <a name="manipulate-filesystem">
    Manipulate filesystem
   </a>
  </h3>
  <p>
   Based on
   <a href="http://www.grymoire.com/Unix/Inodes.html">
    Bruce Barnett's summary
   </a>
   , Unix/Linux files consist of data and inode metadata; and a Unix/Linux directory is a table associating file names with inodes. Try to visualize the operations below in these terms; for example (based on a
   <a href="https://bbs.archlinux.org/viewtopic.php?id=53484">
    response in an Arch Linux forum
   </a>
   ), consider the difference between
  </p>
  <ul>
   <li>
    <strong>
     copying a file
    </strong>
    : you have two files with different inodes; if you edit or delete one file, the other is unchanged
   </li>
   <li>
    <strong>
     creating a hard link to a file
    </strong>
    : you have one file with one inode with multiple names; if you edit under one name, the file changes for them all, but if you delete one, the others are unaffected
   </li>
   <li>
    <strong>
     creating a soft link (or shortcut, or symbolic link, or pointer) to a file
    </strong>
    : you have one file or directory that has one inode, but you can get to it via shortcuts which have their own inodes; if you delete the file, the shortcuts break, but if you delete the shortcuts, the file is fine
   </li>
  </ul>
  <div class="sourceCode">
   <pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">mkdir</span> dir_name  <span class="co"># create directory</span>
<span class="kw">touch</span> ~/dirname/file.txt  <span class="co"># create file</span>
<span class="kw">curl</span> http://url  <span class="co"># downloads file from URL</span>
<span class="kw">unzip</span> file.zip

<span class="kw">cp</span> fromfile tofile  <span class="co"># move contents of one file into another; will overwrite existing tofile</span>
<span class="kw">cp</span> file1 file2 todir  <span class="co"># copy two files to specified directory</span>
<span class="kw">cp</span> bash_pattern todir  <span class="co"># copy all files matching pattern to directory</span>
<span class="kw">cp</span> -R fromdir1 todir2  <span class="co"># copy dir1 into dir2</span>

<span class="kw">ls</span> -i  <span class="co"># show inode #s as well as names</span>
<span class="kw">ln</span> file hardlink  <span class="co"># create hard link</span>
<span class="kw">ln</span> -s file softlink  <span class="co"># create soft link</span>

<span class="kw">mv</span> file1 file2 todir  <span class="co"># move files or directories to directory</span>
<span class="kw">mv</span> -i file todir  <span class="co"># adds confirmation step to prevent overwrites</span>
<span class="kw">mv</span> filename new_filename  <span class="co"># rename a file or directory</span>

<span class="kw">rm</span> file1 file2  <span class="co"># delete file/s </span>
<span class="kw">rmdir</span> dirname  <span class="co"># deletes directory IF empty</span>
<span class="kw">rm</span> -R dirname  <span class="co"># delete directory and its contents</span></code></pre>
  </div>
  <h2>
   <a name="manage-permissions">
    Manage permissions
   </a>
  </h2>
  <p>
   <a href="http://linuxsurvival.com/linux-file-security-permissions-part-2/">
    A detailed view of a directory's contents
   </a>
   includes, for each item in this order, the item's permissions; the number of hard links to it; its owner; its group; its size (as number of bytes); the date and time of its last modification; and its name.
   <a href="http://linuxsurvival.com/linux-file-security-permissions-part-3/">
    Permission are expressed in a 9 digit-long code
   </a>
   , where the first three digits encode the owner's permissions; the next three digits encode the owner's group's permissions; and the last three encode everyone else's. Then, each three digit cluster encodes read-write-execute permissions as yes (
   <code>
    r
   </code>
   ,
   <code>
    w
   </code>
   ,
   <code>
    x
   </code>
   ) or no (
   <code>
    -
   </code>
   ). Examples:
   <code>
    rwx------
   </code>
   ,
   <code>
    rw-rw-r--
   </code>
   ,
   <code>
    rwxrwxr-x
   </code>
   .
  </p>
  <div class="sourceCode">
   <pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">ls</span> -l  <span class="co"># list in long form</span>
<span class="kw">chmod</span> ugo+rwx dirname  <span class="co"># give user, group, and others read, write and execute permission</span>
<span class="kw">chmod</span> o-w filename  <span class="co"># revoke others' write permission</span>
<span class="kw">chown</span> <span class="kw">&lt;</span>new_username<span class="kw">&gt;</span>:<span class="kw">&lt;</span>new_groupname<span class="kw">&gt;</span> filename  <span class="co"># change ownership</span></code></pre>
  </div>
  <h2>
   <a name="chain-and-redirect">
    Chain and redirect
   </a>
  </h2>
  <p>
   Rather than typing and entering one at a time, commands can be
   <strong>
    chained
   </strong>
   : entered as a sequence separated by
   <code>
    ;
   </code>
   or
   <code>
    &amp;&amp;
   </code>
   , then executed. In the semicolon method, if a command fails, Bash still tries to execute commands that follow it. In the ampersand method, if a command fails then the remaining ones simply aren't run. Chaining is meant to be a time-saver.
  </p>
  <p>
   <a href="http://linuxcommand.org/lc3_lts0070.php">
    <strong>
     Redirection
    </strong>
    goes beyond chaining
   </a>
   . Each command has standard input (
   <code>
    stdin
   </code>
   ), standard error (
   <code>
    stderr
   </code>
   ), and standard output (
   <code>
    stdout
   </code>
   ); by way of special characters (
   <code>
    &gt;, &gt;&gt;, &lt;, |
   </code>
   ), any of these can be passed to and used by another command, file, or program. This means we don't need to create variables for storing this data.
  </p>
  <div class="sourceCode">
   <pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">cat</span> <span class="kw">&gt;</span> file  <span class="co"># create file by rdct cat's stdin to file; exit with ctrl+d</span>
<span class="kw">cat</span> <span class="kw">&gt;&gt;</span> file  <span class="co"># create file by rdct cat's stdin, appends to file (if exists)</span>
<span class="kw">echo</span> <span class="st">"hello"</span> <span class="kw">&gt;</span> file  <span class="co"># create file by rdct echo's stdout from terminal to file</span>

<span class="kw">cat</span> file1 <span class="kw">&gt;</span> file2  <span class="co"># copy file by rdct cat's stdout from terminal to file2</span>

<span class="kw">cat</span> <span class="kw">&lt;</span> file  <span class="co"># display file by rdct to cat's stdin; same as &gt;&gt; cat file</span>
<span class="kw">cat</span> file <span class="kw">|</span> <span class="kw">less</span>  <span class="co"># display large files by rdct cat's stdout to less's stdin</span></code></pre>
  </div>
 </body>
</html>
