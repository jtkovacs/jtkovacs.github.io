<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="text/css" http-equiv="Content-Style-Type"/>
  <meta content="pandoc" name="generator"/>
  <title>
   jtkovacs.github.io | python
  </title>
  <link href="../assets/styles/main.css" rel="stylesheet" type="text/css"/>
  <style type="text/css">
   table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link href="../assets/styles/refs.css" rel="stylesheet" type="text/css"/>
 </head>
 <body>
  <p class="path">
   <a href="../pkb.html">
    pkb contents
   </a>
   &gt; python | just under 4374 words | updated 10/13/2017
  </p>
  <div class="TOC">
   <ul>
    <li>
     1.
     <a href="#environment">
      Environment
     </a>
     <ul>
      <li>
       1.1.
       <a href="#command-line">
        Command line
       </a>
       -  1.1.1.
       <a href="#launch-python-from-bash">
        Launch Python from Bash
       </a>
       -  1.1.2.
       <a href="#run-python-script-from-bash">
        Run Python script from Bash
       </a>
       -  1.1.3.
       <a href="#take-arguments-from-command-line">
        Take arguments from command line
       </a>
      </li>
      <li>
       1.2.
       <a href="#jupyter-notebook">
        Jupyter Notebook
       </a>
      </li>
      <li>
       1.3.
       <a href="#managing-modules">
        Managing modules
       </a>
      </li>
      <li>
       1.4.
       <a href="#which-modules">
        Which modules?
       </a>
      </li>
     </ul>
    </li>
    <li>
     2.
     <a href="#language">
      Language
     </a>
     <ul>
      <li>
       2.1.
       <a href="#operators">
        Operators
       </a>
      </li>
      <li>
       2.2.
       <a href="#control-flow-statements">
        Control flow statements
       </a>
      </li>
      <li>
       2.3.
       <a href="#comprehensions">
        Comprehensions
       </a>
      </li>
      <li>
       2.4.
       <a href="#generator-expressions">
        Generator expressions
       </a>
      </li>
      <li>
       2.5.
       <a href="#datatypes">
        Datatypes
       </a>
       <ul>
        <li>
         2.5.1.
         <a href="#booleans">
          Booleans
         </a>
        </li>
        <li>
         2.5.2.
         <a href="#numerics">
          Numerics
         </a>
        </li>
        <li>
         2.5.3.
         <a href="#sequences">
          Sequences
         </a>
         <ul>
          <li>
           2.5.3.1.
           <a href="#strings-bytes-unicode">
            Strings, bytes, &amp; unicode
           </a>
          </li>
          <li>
           2.5.3.2.
           <a href="#lists">
            Lists
           </a>
          </li>
          <li>
           2.5.3.3.
           <a href="#queues">
            Queues
           </a>
          </li>
          <li>
           2.5.3.4.
           <a href="#tuples">
            Tuples
           </a>
          </li>
         </ul>
        </li>
        <li>
         2.5.4.
         <a href="#sets">
          Sets
         </a>
        </li>
        <li>
         2.5.5.
         <a href="#dictionaries">
          Dictionaries
         </a>
        </li>
        <li>
         2.5.6.
         <a href="#datetimes">
          Datetimes
         </a>
        </li>
       </ul>
      </li>
      <li>
       2.6.
       <a href="#functions">
        Functions
       </a>
      </li>
      <li>
       2.7.
       <a href="#closures">
        Closures
       </a>
      </li>
      <li>
       2.8.
       <a href="#decorators">
        Decorators
       </a>
      </li>
      <li>
       2.9.
       <a href="#style">
        Style
       </a>
       <ul>
        <li>
         2.9.1.
         <a href="#spacing">
          Spacing
         </a>
        </li>
        <li>
         2.9.2.
         <a href="#naming">
          Naming
         </a>
        </li>
        <li>
         2.9.3.
         <a href="#structure">
          Structure
         </a>
        </li>
        <li>
         2.9.4.
         <a href="#namespace-docstrings">
          Namespace &amp; docstrings
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </li>
    <li>
     3.
     <a href="#paradigms">
      Paradigms
     </a>
     <ul>
      <li>
       3.1.
       <a href="#object-oriented-python">
        Object-oriented Python
       </a>
       <ul>
        <li>
         3.1.1.
         <a href="#methods">
          Methods
         </a>
        </li>
       </ul>
      </li>
      <li>
       3.2.
       <a href="#functional-python">
        Functional Python
       </a>
       <ul>
        <li>
         3.2.1.
         <a href="#lambdas">
          Lambdas
         </a>
        </li>
        <li>
         3.2.2.
         <a href="#currying">
          Currying
         </a>
        </li>
        <li>
         3.2.3.
         <a href="#map-reduce-filter-etc.">
          Map-reduce, filter, etc.
         </a>
        </li>
       </ul>
      </li>
      <li>
       3.3.
       <a href="#test-driven-development">
        Test-Driven Development
       </a>
       <ul>
        <li>
         3.3.1.
         <a href="#logging-errors-debugging">
          Logging, errors, &amp; debugging
         </a>
        </li>
       </ul>
      </li>
     </ul>
    </li>
    <li>
     4.
     <a href="#sources">
      Sources
     </a>
     <ul>
      <li>
       4.1.
       <a href="#references">
        References
       </a>
      </li>
      <li>
       4.2.
       <a href="#read">
        Read
       </a>
      </li>
      <li>
       4.3.
       <a href="#unread">
        Unread
       </a>
      </li>
     </ul>
    </li>
   </ul>
  </div>
  <h1 id="environment">
   <a>
    1. Environment
   </a>
  </h1>
  <h2 id="command-line">
   <a>
    1.1. Command line
   </a>
  </h2>
  <h4 id="launch-python-from-bash">
   <a>
    1.1.1. Launch Python from Bash
   </a>
  </h4>
  <pre class="sourceCode Bash"><code class="sourceCode bash"><span class="kw">python</span> --version
<span class="kw">python</span>  <span class="co"># launches some version of python 2</span>
<span class="kw">python3</span>  <span class="co"># launches some version of python 3</span>
<span class="fu">quit()</span>

<span class="kw">python</span> fname.py  <span class="co"># run a script</span></code></pre>
  <h4 id="run-python-script-from-bash">
   <a>
    1.1.2. Run Python script from Bash
   </a>
  </h4>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="co"># this code will run only if the script is executed from the command line</span>
<span class="co"># it won't run if the script is imported by another script</span>
<span class="kw">if</span> <span class="ot">__name__</span> == <span class="st">'__main__'</span>:
    ...</code></pre>
  <h4 id="take-arguments-from-command-line">
   <a>
    1.1.3. Take arguments from command line
   </a>
  </h4>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="ch">import</span> sys
script_name = sys.argv[<span class="dv">0</span>]
<span class="kw">for</span> arg in sys.argv[<span class="dv">1</span>:]:
    ...</code></pre>
  <h2 id="jupyter-notebook">
   <a>
    1.2. Jupyter Notebook
   </a>
  </h2>
  <p>
   Key commands:
  </p>
  <ul>
   <li>
    <code>
     dd
    </code>
    deletes a cell
   </li>
  </ul>
  <pre class="sourceCode Bash"><code class="sourceCode bash"><span class="kw">jupyter</span> notebook  <span class="co"># launches JN in browser</span>
<span class="co"># quit JN by typing ctrl+c twice in the command line</span>
<span class="co"># share JN by uploading it to GitHub --&gt; http://nbviewer.jupyter.org/</span></code></pre>
  <h2 id="managing-modules">
   <a>
    1.3. Managing modules
   </a>
  </h2>
  <p>
   <a href="https://docs.python.org/3/tutorial/modules.html#packages">
    Libraries/packages are directories of Python scripts/modules
   </a>
   ; each script contains special functions, methods, and/or types.
  </p>
  <pre class="sourceCode Python"><code class="sourceCode python">python3 get-pip.py
pip3 install module_name

<span class="ch">import</span> module_name  <span class="co"># use functions from module as module_name.function_name()</span>
<span class="ch">import</span> module_name <span class="ch">as</span> nickname  <span class="co"># use functions as nickname.function_name()</span>

<span class="ch">from</span> module_name <span class="ch">import</span> function_name  <span class="co"># partial import; use function as function_name()</span>
<span class="ch">from</span> module_name <span class="ch">import</span> *  <span class="co"># full import; bad practice because:</span>
<span class="co"># (1) it floods __name__, the local namespace;</span>
<span class="co"># (2) names you’ve defined locally or have previously imported may be overwritten;</span>
<span class="co"># (3) the module's contents are no longer contained in the module's namespace</span>

<span class="dt">dir</span>(module_name)  <span class="co"># view contents of module</span></code></pre>
  <h2 id="which-modules">
   <a>
    1.4. Which modules?
   </a>
  </h2>
  <p>
   See also: Doug Hellmann's
   <a href="https://pymotw.com/2/contents.html">
    Python Module of the Week
   </a>
   , SciPy's
   <a href="https://www.scipy.org/topical-software.html">
    directory of science-related Python resources and modules
   </a>
   , Fredrik Lundh's
   <a href="http://effbot.org/media/downloads/librarybook-core-modules.pdf">
    tour of the Python standard library modules
   </a>
   [pdf], the
   <a href="https://docs.python.org/3/py-modindex.html">
    Python Module Index
   </a>
   , and libraries included in the
   <a href="http://docs.activestate.com/activepython/3.5/pkg/">
    ActivePython
   </a>
   and
   <a href="https://docs.continuum.io/anaconda/pkg-docs">
    Anaconda
   </a>
   Python distributions:
  </p>
  <ul>
   <li>
    For data wrangling -
    <code>
     collections (defaultdict), pandas (dataframes), numpy (arrays), GraphLab Create
    </code>
   </li>
   <li>
    For datetimes -
    <code>
     datetime, pytz
    </code>
   </li>
   <li>
    For web scraping &amp; parsing -
    <code>
     urllib2, requests, scrapy, beautifulsoup, robobrowser
    </code>
   </li>
   <li>
    For I/O -
    <code>
     csv, json, lxml
    </code>
   </li>
   <li>
    For data analysis -
    <code>
     math, statistics, random, numpy
    </code>
   </li>
   <li>
    For data visualization -
    <code>
     matplotlib, seaborn, prettytable, tablib, bokeh (interactives)
    </code>
   </li>
   <li>
    For scientific computing -
    <code>
     scipy (integrals, diffeqs, matrixes)
    </code>
   </li>
   <li>
    For machine learning -
    <code>
     scikit-learn, GraphLab Create
    </code>
   </li>
   <li>
    For text analysis -
    <code>
     nltk, re, string
    </code>
   </li>
   <li>
    For functional Python -
    <code>
     operator, functools
    </code>
   </li>
   <li>
    For testing -
    <code>
     nose, logging, coverage, unittest, exceptions, pdb
    </code>
   </li>
  </ul>
  <h1 id="language">
   <a>
    2. Language
   </a>
  </h1>
  <h2 id="operators">
   <a>
    2.1. Operators
   </a>
  </h2>
  <pre class="sourceCode Python"><code class="sourceCode python">ASSIGNMENT operators
a = <span class="dv">1</span>
b = <span class="dv">2</span>; c = <span class="dv">3</span>
d = a == b <span class="co"># returns False</span>

<span class="co"># COMPARISON operators</span>
a == b  <span class="co"># checking equality/equivalency; returns True</span>
a != b  <span class="co"># returns False</span>
a is b  <span class="co"># checking identicality; returns False</span>
a is not b  <span class="co"># returns True</span>
a &lt;= b  <span class="co"># inequality</span>
a &lt; b  <span class="co"># strict inequality</span>

<span class="co"># LOGIC operators are used for selection and filtering;</span>
<span class="co"># also with conditional operators to control program flow, although</span>
<span class="co"># multiline if/else expressions are often more readable than complex Booleans</span>
<span class="kw">if</span> x &gt; y or y != <span class="dv">1</span>:
    <span class="dt">print</span>(x)

between1_and5 = [i <span class="kw">for</span> i in my_list where i &gt; <span class="dv">1</span> and i &lt; <span class="dv">5</span>] <span class="co"># a list comprehension</span>

<span class="co"># avoid negation of positive expressions, e.g. if not a is b</span>
<span class="co"># prefer inline negation:</span>
<span class="kw">if</span> x is not y:
    <span class="dt">print</span>(x)

<span class="dt">all</span>(my_iterable)  <span class="co"># returns True if my_iterable is empty, or all its elements are True</span>
<span class="dt">any</span>(my_iterable)  <span class="co"># returns False if my_iterable is empty, or any element is False</span></code></pre>
  <h2 id="control-flow-statements">
   <a>
    2.2. Control flow statements
   </a>
  </h2>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="co"># CONDITIONAL operators:</span>
<span class="kw">if</span> x &gt; <span class="dv">2</span>:
    <span class="kw">continue</span>  <span class="co"># jumps to next iteration</span>
<span class="kw">elif</span> x &lt; <span class="dv">0</span>:
    <span class="kw">if</span> x == -<span class="dv">1</span>:  <span class="co"># conditionals can be nested</span>
        <span class="kw">break</span>  <span class="co"># completely exits loop</span>
<span class="kw">else</span>:
    <span class="co"># if included, else clause must be at the end  elif, else</span>

<span class="co"># there is a conditional execution structure for errors;</span>
<span class="co"># this is called catching an exception:</span>
<span class="kw">try</span>: <span class="co"># to run code based on input</span>
<span class="kw">except</span>: <span class="co"># ask for better input</span>
<span class="kw">else</span>: <span class="co"># execute if try was successful; visually distinguishes the success case</span>
<span class="kw">finally</span>: <span class="co"># run if all prior code has failed, e.g. close file handles</span>

<span class="co"># DEFINITE loop:</span>
<span class="kw">for</span> i in [<span class="dt">set</span>]: …
<span class="co"># or range(x) in python3 // xrange(x) in python2</span>
<span class="co"># or range(len(my_list) in python3 // range(x) in python2</span>
<span class="co"># or i, em in enumerate(my_iterable, [starting_index])</span>

<span class="co"># INDEFINITE loop:</span>
<span class="kw">while</span> [condition]: …</code></pre>
  <h2 id="comprehensions">
   <a>
    2.3. Comprehensions
   </a>
  </h2>
  <p>
   Often,
   <code>
    for
   </code>
   loops can be conveniently replaced with a comprehension. Comprehensions can be fairly complex, but at a certain point it's better to switch back to a loop.
  </p>
  <pre class="sourceCode Python"><code class="sourceCode python">squares = [i**<span class="dv">2</span> <span class="kw">for</span> i in <span class="dt">range</span>(<span class="dv">10</span>)]  <span class="co"># list comprehension</span>
squares3 = [i**<span class="dv">2</span> <span class="kw">for</span> i in <span class="dt">range</span>(<span class="dv">30</span>) <span class="kw">if</span> i%<span class="dv">3</span>==<span class="dv">0</span>]   <span class="co"># conditional list comprehension</span>
two_filter = [x <span class="kw">for</span> x in a <span class="kw">if</span> x&gt;<span class="dv">4</span> <span class="kw">if</span> x%<span class="dv">2</span>==<span class="dv">0</span>]  <span class="co"># multiconditional list comprehension</span>
squared = [[x**<span class="dv">2</span> <span class="kw">for</span> x in row] <span class="kw">for</span> row in matrix]  <span class="co"># nested list comprehensions</span>

grid_list = [(x,y) <span class="kw">for</span> x in rows, y in cols]   <span class="co"># list comprehension returns list of tuples</span>
<span class="dt">set</span> = {num * <span class="dv">2</span> <span class="kw">for</span> num in [<span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">18</span>, <span class="dv">2</span>, <span class="dv">42</span>, <span class="dv">2</span>]}  <span class="co"># set comprehension</span>

<span class="co"># dictionary comprehensions</span>
squares_dict = { i : i**<span class="dv">2</span> <span class="kw">for</span> i in <span class="dt">range</span>(<span class="dv">20</span>)}
transposed_dict = {<span class="dt">dict</span>[key]:key <span class="kw">for</span> key in <span class="dt">dict</span>}
<span class="dt">dict</span> = {letter: num <span class="kw">for</span> letter, num in <span class="dt">zip</span>(<span class="st">'abcdef'</span>, <span class="dt">range</span>(<span class="dv">1</span>, <span class="dv">7</span>))}</code></pre>
  <h2 id="generator-expressions">
   <a>
    2.4. Generator expressions
   </a>
  </h2>
  <p>
   A
   <a href="http://anandology.com/python-practice-book/iterators.html">
    generator expression
   </a>
   , also called a naked comprehension, is useful for processing large datasets because intermediate results are not stored, so RAM isn't overwhelmed.
  </p>
  <ul>
   <li>
    Generators are "stateful"
   </li>
   <li>
    You won't get any errors when you iterate over an already exhausted iterator; see pp. 40-41 of
    <em>
     Effective Python
    </em>
    .
   </li>
   <li>
    Generators are great for functional programming; they execute very quickly when chained together
   </li>
  </ul>
  <pre class="sourceCode Python"><code class="sourceCode python">it = (<span class="dt">len</span>(x) <span class="kw">for</span> x in <span class="dt">open</span>(<span class="st">'myfile.txt'</span>))
<span class="dt">print</span>(<span class="dt">next</span>(it))
<span class="dt">print</span>(<span class="dt">next</span>(it))

roots = ((x, x**<span class="fl">0.5</span>) <span class="kw">for</span> x in it)
<span class="dt">print</span>(<span class="dt">next</span>(roots))

<span class="dt">sum</span>(i**<span class="dv">2</span> <span class="kw">for</span> i in <span class="dt">range</span>(<span class="dv">10</span>))

<span class="dt">list</span>(my_generator(data))  <span class="co"># to convert generator to list, but why??</span></code></pre>
  <h2 id="datatypes">
   <a>
    2.5. Datatypes
   </a>
  </h2>
  <p>
   Overview of
   <a href="https://docs.python.org/3.5/library/stdtypes.html">
    standard types
   </a>
   :
  </p>
  <ul>
   <li>
    Numerics are integers, floats, complex(re,im), decimals
   </li>
   <li>
    Sequences are strings, lists, queues, tuples, ranges
   </li>
   <li>
    Strings, bytes, unicode are character types
   </li>
   <li>
    Collections AKA containers are lists, queues, tuples, sets, dicts;
   </li>
   <li>
    Collections support operators
    <code>
     in, not in
    </code>
   </li>
   <li>
    Not all containers are iterable, see
    <a href="http://nvie.com/posts/iterators-vs-generators/">
     iterables vs iterators vs generators
    </a>
   </li>
   <li>
    The only container also a mapping is dict
   </li>
  </ul>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="dt">print</span>(<span class="dt">type</span>(my_var))  <span class="co"># check type</span>
<span class="dt">print</span>(<span class="dt">repr</span>(my_var))  <span class="co"># printable representation; differentiates '5' and 5 when printing</span>

<span class="dt">str</span>()  <span class="co"># convert to string</span>
text.decode(<span class="st">'utf-8'</span>)  <span class="co"># convert bytes to unicode</span>
text.encode(<span class="st">'utf-8'</span>)  <span class="co"># convert unicode to bytes</span>

<span class="dt">int</span>()  <span class="co"># convert numeric to integer</span>
my_int.to_bytes(length, byteorder=big, *, signed=<span class="ot">False</span>)  <span class="co"># OverflowError if too small</span>
my_int.from_bytes(<span class="dt">bytes</span>, byteorder=little, *, signed=<span class="ot">True</span>)
my_integer.bit_length()  <span class="co"># how many bits to represent an integer?</span>

<span class="co"># also bool(), float()</span></code></pre>
  <h3 id="booleans">
   <a>
    2.5.1. Booleans
   </a>
  </h3>
  <ul>
   <li>
    In addition to Boolean operands
    <code>
     True
    </code>
    and
    <code>
     False
    </code>
    , all Python objects have truth values
   </li>
   <li>
    <code>
     None
    </code>
    ,
    <code>
     0
    </code>
    for any numeric type, and empty collections evaluate as
    <code>
     False
    </code>
   </li>
  </ul>
  <h3 id="numerics">
   <a>
    2.5.2. Numerics
   </a>
  </h3>
  <pre class="sourceCode Python"><code class="sourceCode python">my_float = <span class="fl">5.519</span>
<span class="dt">abs</span>(my_float)
<span class="dt">sum</span>(my_iterable)  <span class="co"># sum up numerics stored in an iterable</span>
<span class="dt">round</span>(my_float[, n])  <span class="co"># round float to n digits; n defaults to 0</span>

<span class="co"># standard numeric operators;</span>
<span class="co"># Python converts types as necessary to perform operations:</span>
<span class="dv">2</span> + <span class="dv">3</span>  <span class="co"># addition</span>
<span class="dv">2</span> - <span class="dv">3</span>  <span class="co"># subtraction</span>
<span class="dv">2</span> * <span class="dv">3</span>  <span class="co"># multiplication</span>
<span class="dv">2</span> ** <span class="dv">3</span>  <span class="co"># exponentiation</span>
<span class="dv">6</span> / <span class="dv">3</span>  <span class="co"># division</span>
<span class="dv">7</span> % <span class="dv">2</span>  <span class="co"># modulo; returns remainder of division, e.g. 7/2 = 2*3 + 1, the remainder is 1</span>
<span class="dv">5</span> // <span class="dv">2</span>  <span class="co"># floor division, AKA integer division; divides int by int, drops remainder; e.g. 5//2 = 4</span>
<span class="dt">divmod</span>(<span class="dv">5</span>, <span class="dv">2</span>)  <span class="co"># returns (x//y, x%y)</span>

<span class="ch">import</span> math
math.factorial(my_integer)
math.sqrt(my_float)
math.pi  <span class="co"># a constant</span>
math.e  <span class="co"># a constant</span>
math.gcd(my_float1, my_float2)  <span class="co"># greatest common divisor</span>
math.trunc(my_float)  <span class="co"># truncates float to integer part, without rounding</span>
math.floor(my_float)  <span class="co"># greatest float(integer) less than or equal to x</span>
math.ceil(my_float)  <span class="co"># smallest float(integer) greater than or equal to x</span>
math.log(my_float[, base])

<span class="co"># the decimal library is useful for currency:</span>
<span class="ch">import</span> decimal
my_decimal_price = Decimal(<span class="st">'5.003'</span>)
my_decimal_price.quantize(Decimal(<span class="st">'0.01'</span>), rounding=ROUND_UP) <span class="co"># returns 5.01</span></code></pre>
  <h3 id="sequences">
   <a>
    2.5.3. Sequences
   </a>
  </h3>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="co"># Operations supported for all sequences:</span>
x not in s  <span class="co"># membership check; returns True or False</span>
x in s

s * n  <span class="co"># adds s to self n times, n is an integer</span>
s + t  <span class="co"># concatenation</span>
<span class="dt">len</span>(s)
<span class="dt">min</span>(s)
<span class="dt">max</span>(s)

<span class="co"># Addressing for all sequences:</span>
s.index(x[, i[, j]])  <span class="co"># find index of element x between optional i (inclusive) to j (exclusive)</span>
s[i:j:k]  <span class="co"># slice s, taking every kth item from index i (inclusive) to j (exclusive)</span>
<span class="co"># More slicing syntax: s[:], s[i:], s[:j], s[-3:-1]</span>
<span class="co"># Stride k can be negative, but keep it positive to avoid confusion</span>
<span class="co"># For readability, consider two statements: one to stride, the next to slice</span></code></pre>
  <h4 id="strings-bytes-unicode">
   <a>
    2.5.3.1. Strings, bytes, &amp; unicode
   </a>
  </h4>
  <p>
   Like lists, strings are composed of elements that can be accessed via their index. Unlike lists, strings are immutable: individual elements cannot be deleted or modified.
  </p>
  <ul>
   <li>
    Your program should use unicode at its core, with helper functions to convert input and output:
   </li>
   <li>
    Convert bytes (or string of bytes):
    <code>
     text.decode('utf-8')
    </code>
   </li>
   <li>
    Convert unicode string:
    <code>
     text.encode('utf-8')
    </code>
   </li>
   <li>
    In Python 3,
    <code>
     str()
    </code>
    is unicode,
    <code>
     bytes()
    </code>
    is raw 8-bit. In Python 2,
    <code>
     str()
    </code>
    is raw 8-bit,
    <code>
     unicode()
    </code>
    is unicode
   </li>
   <li>
    String output is formatted with with
    <a href="https://docs.python.org/3.5/library/string.html#formatstrings">
     .format() and its mini-language
    </a>
    , since
    <a href="https://docs.python.org/3.5/library/stdtypes.html#printf-style-string-formatting">
     % formatting is depreciated
    </a>
   </li>
  </ul>
  <pre class="sourceCode Python"><code class="sourceCode python">my_string1 = <span class="st">'allows embedded "double" quotes'</span>
my_string2 = <span class="st">"allows embedded 'single' quotes"</span>
my_string3 = <span class="st">'quotes can be </span><span class="ch">\'</span><span class="st">escaped</span><span class="ch">\'</span><span class="st"> using the backslash character'</span>

<span class="dt">print</span>(<span class="st">"Hello "</span> + user_name + <span class="st">", how are you doing?"</span>) <span class="co"># string concatenation</span>

<span class="co"># split string</span>
my_str.partition(sep)  <span class="co"># returns 3-tuple: (str_before_separator, separator, str_after_separator)</span>
my_str.split(sep=<span class="ot">None</span>, maxsplit=-<span class="dv">1</span>)  <span class="co"># split string every time delimiter occurs or #maxsplit</span>
my_str.splitlines([keepends])  <span class="co"># keepends is a Boolean</span>

<span class="co">' '</span>.join(my_iterable)  <span class="co"># join elements in an iterator using ' ' as the separator between elements</span>
my_string.replace(old, new[, count])  <span class="co"># optional 'count' specifies #instances to replace</span>
my_string.isalpha()  <span class="co"># False if nonalphabetic character in string</span>
my_string.zfill(width)  <span class="co"># left-pads a string with zeros</span>
my_string.ljust(width[, fillchar])
<span class="co"># Many of these methods have counterparts that start from the end of the string</span>
<span class="co"># s.rindex(), s.rfind(), s.rpartition(), etc.</span></code></pre>
  <h4 id="lists">
   <a>
    2.5.3.2. Lists
   </a>
  </h4>
  <p>
   Lists store multiple elements of any type, including mixed type and including other lists. Lists are mutable; unlike string methods, most list methods alter the list in-place and return None. Lists are both sequences and containers.
  </p>
  <pre class="sourceCode Python"><code class="sourceCode python">my_list = <span class="dt">list</span>()
my_list = []
my_list = <span class="dt">list</span>(<span class="st">'abc'</span>)
my_list = [<span class="st">'a'</span>, <span class="st">'b'</span>, <span class="st">'c'</span>]
my_list = [i <span class="kw">for</span> i in <span class="dt">range</span>(<span class="dt">len</span>(n))]

b = a  <span class="co"># an ALIAS, not a copy! a is b; changes to b affect a</span>
b = <span class="dt">list</span>(a) <span class="co"># copies list; b is equivalent, but not identical to a</span>
b = a[:]  <span class="co"># copies list; b is equivalent, but not identical to a</span>

em in my_list  <span class="co"># check membership</span>

my_list[i[:j]] = em  <span class="co"># update list; em will replace slice i:j, even if len(em) &lt; len(list[i:j])</span>
my_list.insert(index, em)  <span class="co"># adds element at index</span>
my_list.append(my_list2)  <span class="co"># adds element/s at end of list</span>
my_list1 + my_list2  <span class="co"># adds element/s at end of list</span>
my_list.extend(em)  <span class="co"># adds element/s at end of list; faster for large lists</span>

my_list.remove(em)
<span class="kw">del</span> my_list[i:j]
my_list.pop([i])  <span class="co"># deletes and returns last element, or ith element</span>

<span class="co">' '</span>.join(my_iterable)  <span class="co"># join elements in an iterator using ' ' as the separator between elements</span>
my_list.reverse()  <span class="co"># reverses list elements in-place</span>
<span class="dt">sum</span>(my_list)  <span class="co"># if list elements are numerics</span>
my_list.sort()  <span class="co"># sorts list elements in place</span>
my_sorted_list = <span class="dt">sorted</span>(my_list, reverse=<span class="ot">False</span>)  <span class="co"># returns sorted copy of unaltered list</span>
<span class="co"># https://wiki.python.org/moin/HowTo/Sorting</span></code></pre>
  <h4 id="queues">
   <a>
    2.5.3.3. Queues
   </a>
  </h4>
  <p>
   Use a
   <a href="https://docs.python.org/3/library/collections.html#deque-objects">
    double-ended queue
   </a>
   , a list-like datatype, when you need to quickly insert or remove items from the end and beginning (deques are a stack-queue hybrid):
  </p>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="ch">import</span> collections
my_deque = deque()

my_deque.appendleft(em)  <span class="co"># add element to left</span>
my_deque.insert(i, em)  <span class="co"># add element at specified index</span>
my_deque.append(em)  <span class="co"># add element to right</span>
my_deque.reverse()  <span class="co"># reverses elements in place, returning None</span>

my_deque.popleft()  <span class="co"># remove and return element from left</span>
my_deque.pop()  <span class="co"># remove and return element from right</span></code></pre>
  <p>
   Use a
   <a href="https://docs.python.org/3/library/heapq.html">
    heap queue
   </a>
   when you want a list that's automatically sorted:
  </p>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="ch">import</span> heapq
my_heap = <span class="dt">list</span>()
heappush(my_heap, <span class="dv">3</span>)  <span class="co"># add element</span>
heappush(my_heap, <span class="dv">5</span>)
heappush(my_heap, <span class="dv">1</span>)

my_list = [<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>]
my_heap = heapify(my_list)

my_heap[<span class="dv">0</span>]  <span class="co"># always returns lowest number; here, 1</span>
<span class="dt">print</span>(heappop(my_heap), heappop(my_heap))  <span class="co"># removes and prints lowest, next lowest, etc.; here 1, 3</span></code></pre>
  <h4 id="tuples">
   <a>
    2.5.3.4. Tuples
   </a>
  </h4>
  <p>
   Tuples addressing works like list addressing; unlike lists, though, tuples are immutable. When comparing tuples, Python proceeds on an index-by-index basis. Tuples are used for composite dictionary keys and multivariable assignment:
  </p>
  <pre class="sourceCode Python"><code class="sourceCode python">my_tuple = <span class="st">'a'</span>,
my_tuple = <span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>,<span class="st">'d'</span>,<span class="st">'e'</span>
my_tuple = <span class="dt">tuple</span>(my_iterable)

a = <span class="dv">1</span>,<span class="dv">2</span>,
b,c = a  <span class="co"># multivariable assignment, aka unpacking a tuple; b=1, c=2</span>
d=b,c  <span class="co"># packing a tuple; d=1,2 and a==d</span>

directory_dict[last,first] = <span class="st">'phone_number'</span>  <span class="co"># tuple as composite key</span>
<span class="kw">for</span> last, first in directory_dict:
        <span class="dt">print</span> first, last, directory_dict[last,first]</code></pre>
  <h3 id="sets">
   <a>
    2.5.4. Sets
   </a>
  </h3>
  <p>
   The value of sets is access to set operations; by design, seys lack slicing and indexing:
  </p>
  <pre class="sourceCode Python"><code class="sourceCode python">my_set1 = {<span class="st">'a'</span>, <span class="st">'b'</span>}
my_set2 = <span class="dt">set</span>([<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>])

x in my_set1  <span class="co"># True if x an element of set</span>

words_unique = <span class="dt">list</span>(<span class="dt">set</span>(words))  <span class="co"># find unique values</span>

my_set1.add(elem)
my_set1.remove(elem)  <span class="co"># raises KeyError if elem not in set</span>
my_set1.discard(elem)
my_set1.pop()  <span class="co"># remove and return arbitrary element</span>
my_set1.clear()  <span class="co"># deletes all elements</span>

my_set1.isdisjoint(my_set2)  <span class="co"># True if nonoverlapping sets</span>
my_set1.issubset(my_set2)
my_set1.union(my_set2)  <span class="co"># creates a new set from union of sets</span>
my_set1.intersect(my_set2)  <span class="co"># creates a new set from intersection of sets</span>
my_set1.difference(my_set2)  <span class="co"># creates a new set: set1 - set2</span>
my_set1.symmetric_difference(my_set2)  <span class="co"># creates a new set: (set1-set2)U(set2-set1)</span>
<span class="co"># many of these operations have more mathematical-looking alternative notation:</span>
<span class="co"># https://docs.python.org/3.5/library/stdtypes.html#set-types-set-frozenset</span></code></pre>
  <h3 id="dictionaries">
   <a>
    2.5.5. Dictionaries
   </a>
  </h3>
  <p>
   A dictionary maps keys to values; values are retrieved via their key, doing away with indices. A dictionary is much faster to search than a list, and is often used to count letter or word occurrences in a block of text.
  </p>
  <pre class="sourceCode Python"><code class="sourceCode python">a = <span class="dt">dict</span>(one=<span class="dv">1</span>, two=<span class="dv">2</span>, three=<span class="dv">3</span>)
b = {<span class="st">'one'</span>: <span class="dv">1</span>, <span class="st">'two'</span>: <span class="dv">2</span>, <span class="st">'three'</span>: <span class="dv">3</span>}
c = <span class="dt">dict</span>(<span class="dt">zip</span>([<span class="st">'one'</span>, <span class="st">'two'</span>, <span class="st">'three'</span>], [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]))
d = <span class="dt">dict</span>([(<span class="st">'two'</span>, <span class="dv">2</span>), (<span class="st">'one'</span>, <span class="dv">1</span>), (<span class="st">'three'</span>, <span class="dv">3</span>)])
<span class="kw">assert</span> a == b == c == d

my_dict1.update(my_dict2)  <span class="co"># concatenate dictionaries</span>
my_dict[<span class="st">'key'</span>] = <span class="st">'value'</span>  <span class="co"># add element</span>
<span class="kw">del</span> my_dict[<span class="st">'key'</span>]  <span class="co"># delete element</span>
my_dict.clear()  <span class="co"># remove all elements</span>
<span class="kw">if</span> key in my_dict: ...  <span class="co"># test membership</span>

<span class="co"># ways to view or unpack a dictionary</span>
<span class="kw">for</span> pairs in my_dict.items(): ...
<span class="kw">for</span> k, v in my_dict.items(): ...
<span class="kw">for</span> k in my_dict.keys(): ...
<span class="kw">for</span> v in my_dict.values(): ...
<span class="dt">print</span>(<span class="st">"{}: {}"</span>.<span class="dt">format</span>(**my_dict))
<span class="kw">assert</span> <span class="dt">iter</span>(my_dict) == <span class="dt">iter</span>(my_dict.keys())  <span class="co"># returns an iterator of dictionary keys</span>

my_dict.pop(<span class="st">'k'</span>[, default_value])  <span class="co"># returns and deletes a random element, or returns default_value</span>
my_dict.popitem()  <span class="co"># deletes and returns arbitrary (k, v) pair</span>
my_dict.setdefault(<span class="st">'k'</span>[, default_value])  <span class="co"># return v if k exists, otherwise set k=default_value, returns v</span>
my_dict.get(<span class="st">'k'</span>[, default_value])  <span class="co"># returns default_value if k not found; otherwise returns v</span>
my_dict[<span class="st">'key'</span>] = my_dict.get(<span class="st">'key'</span>,<span class="dv">0</span>) + <span class="dv">1</span>  <span class="co"># counter</span>

<span class="co"># special dictionaries</span>
<span class="ch">import</span> collections
my_ordered_dict = OrderedDict()  <span class="co"># recalls order in which its populated</span>
my_default_dict = defaultdict(<span class="dt">int</span>)  <span class="co"># sets default_value == 0, ready to increment</span>
my_default_dict[<span class="st">'key'</span>] += <span class="dv">1</span>  <span class="co"># increment values initialized at 0</span></code></pre>
  <h3 id="datetimes">
   <a>
    2.5.6. Datetimes
   </a>
  </h3>
  <p>
   Code should convert local datetimes to UTC, perform computations, then convert back to local datetimes for display purposes.
  </p>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="ch">import</span> datetime
<span class="ch">import</span> pytz  <span class="co"># a database of timezones</span>
<span class="co"># http://www.saltycrane.com/blog/2009/05/converting-time-zones-datetime-objects-python/</span>

<span class="co"># get current date/time</span>
my_current_datetime = datetime.datetime.now(tzinfo=my_timezone)
my_current_date =  now.date()
my_current_time = now.time()

<span class="co"># create naive datetime object: doesn't know its timezone</span>
naive_datetime_from_timestamp = datetime.datetime.fromtimestamp(my_posix_timestamp)
naive_datetime = datetime.datetime(my_year, my_month, my_day[, my_hour[, my_min[, my_sec[, my_microsec]]]])

<span class="co"># create timedelta objects for timezone assignment/conversion</span>
pacific_tz_offset = datetime.timezone(datetime.timedelta(hours=-<span class="dv">8</span>))
eastern_tz_offset = datetime.timezone(datetime.timedelta(hours=-<span class="dv">5</span>))

<span class="co"># create aware datetime object: knows its timezone</span>
my_pacific_datetime = datetime.datetime(my_year, my_month, my_day, my_hour, tzinfo=pacific_tz_offset)
my_pacific_datetime = my_naive_datetime.astimezone(pacific_tz_offset)

<span class="co"># create timedelta object to manipulate datetime objects</span>
my_inc_5hrs = datetime.timedelta(hours=<span class="dv">5</span>)

<span class="co"># access or update a datetime object</span>
my_incremented_datetime = my_datetime + my_inc_5hrs
my_datetime.replace(hour=my_new_hour)
my_year = my_datetime.year

<span class="co"># convert datetime from string</span>
my_datetime.strftime(my_format_string)
<span class="co"># Format string mini-language: %Y-%m-%d %H:%M:%S %Z%z</span>
<span class="co"># https://docs.python.org/3/library/datetime.html?highlight=datetime#strftime-and-strptime-behavior</span></code></pre>
  <h2 id="functions">
   <a>
    2.6. Functions
   </a>
  </h2>
  <p>
   Functions are pieces of reusable code that solve particular tasks. Brett Slatkin,
   <em>
    Effective Python
   </em>
   , p. 10:
  </p>
  <blockquote>
   <p>
    As soon as your expression get complicated, it's time to consider splitting them into smaller pieces and moving logic into helper functions. What you gain in readability always outweighs what brevity may have afforded you. Don't let Python's pithy syntax for complex expressions get you into a mess ...
   </p>
  </blockquote>
  <ul>
   <li>
    Notation:
    <code>
     fname(req_arg[, opt_arg])
    </code>
   </li>
   <li>
    Function calls can be nested:
    <code>
     print(type(var_name))
    </code>
   </li>
   <li>
    With nesting, inner functions have access to the scope of the outer functions
   </li>
   <li>
    Functions can be recursive (can return a call to themself)
   </li>
   <li>
    <strong>
     Write functions to raise exceptions
    </strong>
    ; expect the calling code to
    <em>
     handle
    </em>
    exceptions
   </li>
  </ul>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="dt">help</span>(fname.mname)
%timeit function(argument)  <span class="co"># in Jupyter Notebook</span>

<span class="co"># more about function arguments:</span>
<span class="co"># http://stackoverflow.com/a/1419160</span>
<span class="co"># http://markmiyashita.com/blog/python-args-and-kwargs/</span>
<span class="co"># http://geekodour.blogspot.com/2015/04/args-and-kwargs-in-python-explained.html</span>
<span class="co"># https://docs.python.org/3.5/tutorial/controlflow.html#more-on-defining-functions</span>
<span class="co"># *args makes a tuple; **kwargs makes a dictionary</span>
<span class="kw">def</span> my_func(positional_arg, optional_keyword_arg = default_value, *args, **kwargs):
    ...
    <span class="kw">return</span> my_var

my_func(<span class="dv">2</span>, optional_keyword_arg = my_value)
<span class="co"># in a function call, keyword arguments must follow positional arguments</span>

<span class="co"># example of exending a function's parameters while remaining</span>
<span class="co"># backwards compatible with existing callers:</span>
<span class="kw">def</span> log(message, when=<span class="ot">None</span>):
    <span class="co">""" Log a message with a timestamp.</span>
<span class="co">    Args:</span>
<span class="co">        message: Message to print.</span>
<span class="co">        when: datetime when message occured. Defaults to the present time.</span>
<span class="co">    """</span>
    when = datetime.now() <span class="kw">if</span> when is <span class="ot">None</span> <span class="kw">else</span> when  <span class="co"># LOOK HERE</span>
    <span class="dt">print</span>(<span class="st">'</span><span class="ot">%s</span><span class="st">: </span><span class="ot">%s</span><span class="st">'</span> % (when, message))</code></pre>
  <h2 id="closures">
   <a>
    2.7. Closures
   </a>
  </h2>
  <p>
   The scope of closures is tricky; see
   <em>
    Effective Python
   </em>
   , pp. 31-36. The general notion:
  </p>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="kw">def</span> add_to_five(num):
    <span class="kw">def</span> inner():  <span class="co"># write a nested function</span>
        <span class="dt">print</span>(num+f)

    <span class="kw">return</span> inner  <span class="co"># return the nested function</span>

fifteen = add_to_five(<span class="dv">10</span>)  <span class="co"># store function call (with argument) as a variable</span>
fifteen()  <span class="co"># call variable as function</span></code></pre>
  <h2 id="decorators">
   <a>
    2.8. Decorators
   </a>
  </h2>
  <ul>
   <li>
    Brett Slatkin:
    <em>
     Decorators are Python syntax for allowing one function to modify another function at runtime.
    </em>
   </li>
   <li>
    <a href="https://www.codementor.io/python/tutorial/introduction-to-decorators">
     Introduction to decorators
    </a>
   </li>
  </ul>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="ch">import</span> functools

<span class="kw">def</span> logme(func):

    <span class="ch">import</span> logging
    logging.basicConfig(level=logging.DEBUG)

    <span class="ot">@wraps</span>(func) <span class="co"># applies decorator from functools so inner.__name__ = func.__name__, etc.</span>

    <span class="kw">def</span> inner(*args, **kwargs):
        logging.debug(<span class="st">"Called {} with {} and {}"</span>.<span class="dt">format</span>(func.<span class="ot">__name__</span>, args, kwargs)
        <span class="kw">return</span> func(*args, **kwargs)

    <span class="kw">return</span> inner

<span class="ot">@logme</span>
<span class="kw">def</span> say_hello():
    <span class="dt">print</span>(<span class="st">"Hello there!"</span>)

say_hello() <span class="co"># syntactic sugar!!</span></code></pre>
  <h2 id="style">
   <a>
    2.9. Style
   </a>
  </h2>
  <ul>
   <li>
    Python prioritizes readability and simplicity;
    <code>
     import this
    </code>
   </li>
   <li>
    Python is extremely picky about indentation, e.g. to define functions
   </li>
   <li>
    Python is case sensitive and has several
    <a href="http://pentangle.net/python/handbook/node52.html">
     reserved words
    </a>
   </li>
   <li>
    Python uses
    <a href="http://python-history.blogspot.com/2013/10/why-python-uses-0-based-indexing.html">
     zero-based indexing
    </a>
   </li>
   <li>
    See PEPs
    <a href="https://www.python.org/dev/peps/pep-0020/">
     20
    </a>
    ,
    <a href="https://www.python.org/dev/peps/pep-0290/">
     290
    </a>
    ,
    <a href="https://www.python.org/dev/peps/pep-0291/">
     291
    </a>
    ,
    <a href="https://www.python.org/dev/peps/pep-0345/">
     345
    </a>
    ,
    <a href="https://www.python.org/dev/peps/pep-0008/">
     8
    </a>
   </li>
   <li>
    Use
    <a href="https://pypi.python.org/pypi/pycodestyle/1.8.0.dev0">
     pycodestyle
    </a>
    or
    <a href="https://github.com/google/yapf">
     yapf
    </a>
    to automate style
   </li>
  </ul>
  <h3 id="spacing">
   <a>
    2.9.1. Spacing
   </a>
  </h3>
  <ul>
   <li>
    Use 2 empty lines between functions
   </li>
   <li>
    Use 2 empty lines between methods
   </li>
   <li>
    Indent with 4 spaces (don't tab)
   </li>
   <li>
    Use spaces after commas:
    <code>
     def my_fname(arg1, arg2)
    </code>
   </li>
   <li>
    Use spaces around assignments and other operators:
    <code>
     my_str = 'value'
    </code>
   </li>
   <li>
    Don't use spaces around operators in function calls:
    <code>
     my_fname(kwarg=my_var)
    </code>
   </li>
   <li>
    Put two spaces between code and inline comments
   </li>
   <li>
    Avoid single line if, for, while, excepts
   </li>
  </ul>
  <h3 id="naming">
   <a>
    2.9.2. Naming
   </a>
  </h3>
  <ul>
   <li>
    Variable names should be informative nouns; also
   </li>
   <li>
    Avoid single letter names since they might conflict with pdb (debugging library)
   </li>
   <li>
    For globals:
    <code>
     MODULE_LEVEL_CONSTANT
    </code>
   </li>
   <li>
    Function names should be informative verb phrases
   </li>
   <li>
    For functions and variables, use
    <code>
     my_fname
    </code>
    (snake case) instead of
    <code>
     MyFname
    </code>
    (camel case)
   </li>
   <li>
    For classes and exceptions use camel case
   </li>
   <li>
    For methods:
    <code>
     \_protected_instance_attribute
    </code>
    or
    <code>
     \_\_private_instance_attribute
    </code>
   </li>
  </ul>
  <h3 id="structure">
   <a>
    2.9.3. Structure
   </a>
  </h3>
  <ul>
   <li>
    Group common operations into functions; group common functions into classes
   </li>
   <li>
    Put import statements at top of file with one library per line, in order:
   </li>
   <li>
    standard library,
   </li>
   <li>
    3rd party modules,
   </li>
   <li>
    own modules
   </li>
   <li>
    79 characters or less per line
   </li>
   <li>
    When an expression exceeds 79 characters, indent it 4 characters past its normal indentation level on the next line
   </li>
  </ul>
  <h3 id="namespace-docstrings">
   <a>
    2.9.4. Namespace &amp; docstrings
   </a>
  </h3>
  <ul>
   <li>
    Profile before optimizing; use
    <code>
     tracemalloc
    </code>
    to profile memory use and leaks
   </li>
   <li>
    <a href="https://www.python.org/dev/peps/pep-0257/">
     PEP 257
    </a>
    : write docstrings for every function, class, and module.
   </li>
   <li>
    function docstrings should describe the purpose of the function, its arguments (incl. default values,
    <em>
     args,
    </em>
    kwargs), its return value/s, and any exceptions that callers should handle.
   </li>
   <li>
    class docstrings should describe the purpose of the class, public attributes and methods, how to interact with protected attributes.
   </li>
   <li>
    module docstrings should specify the module's purpose and the classes/functions available in the module.
   </li>
  </ul>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="dt">dir</span>()  <span class="co"># all names in current local scope</span>
<span class="dt">dir</span>(my_object)  <span class="co"># list of my_object's attributes</span>

<span class="dt">help</span>()
<span class="dt">help</span>(my_object)

<span class="dt">print</span>(<span class="dt">repr</span>(f_name.__doc__)  <span class="co"># access docstrings</span>
<span class="co"># repr returns the printable representation of an object</span>
<span class="co"># helpful for debugging, to differentiate between print(5) and print('5')</span>

<span class="dt">print</span>(my_object.__dict__)  <span class="co"># to view internals, p. 204</span>

<span class="co"># add docstring to functions, classes, methods:</span>
<span class="kw">def</span> my_fcn():
  <span class="st">"""this is a docstring"""</span>

  <span class="co">"""for a multiline docstring,</span>
<span class="co">  put closing quotes on their own line</span>
<span class="co">  """</span>

<span class="ch">import</span> docstrings
<span class="dt">help</span>(docstrings.function_name)</code></pre>
  <h1 id="paradigms">
   <a>
    3. Paradigms
   </a>
  </h1>
  <h2 id="object-oriented-python">
   <a>
    3.1. Object-oriented Python
   </a>
  </h2>
  <p>
   Classes are collections of methods and attributes. An object is an instantiation of a class; everything in Python in an object.
  </p>
  <ul>
   <li>
    <a href="https://docs.python.org/3.5/tutorial/classes.html">
     Explanation from Python 3.5 docs
    </a>
   </li>
   <li>
    <a href="http://anandology.com/python-practice-book/object_oriented_programming.html">
     Anand Chitipothu's explanation
    </a>
   </li>
  </ul>
  <pre class="sourceCode Python"><code class="sourceCode python">
<span class="kw">class</span> ClassName(ParentName1, ParentName2, arg1, ...):  <span class="co"># define a class, its inheritance &amp; arguments</span>

    <span class="kw">def</span> mname(<span class="ot">self</span>):  <span class="co"># create method in a class</span>
        vname = my_value  <span class="co"># create attributes in a class</span>
        <span class="kw">return</span> <span class="ot">self</span>.vname

    <span class="kw">def</span> method_override:  <span class="co"># when method name duplicates a parent's method's name</span>
        ...

    <span class="kw">def</span> <span class="ot">__init__</span> (<span class="ot">self</span>, arg1 = default_val):  <span class="co"># control what happens on instantiation</span>
        ...

    <span class="kw">def</span> <span class="ot">__str__</span>(<span class="ot">self</span>):  <span class="co"># control results of print(my_object)</span>
        <span class="kw">return</span>({},{}.<span class="dt">format</span>(<span class="ot">self</span>.__class__.<span class="ot">__name__</span>, <span class="ot">self</span>.vname))

<span class="ch">from</span> scriptname <span class="ch">import</span> ClassName  <span class="co"># use a class</span>
my_var = ClassName.vname  <span class="co"># access attributes in the class</span>
inst_name = ClassName(arg)  <span class="co"># create an instance of a class</span>
inst_name = filename.ClassName()
inst_name.vname = my_value  <span class="co"># define attributes of an instance</span></code></pre>
  <h3 id="methods">
   <a>
    3.1.1. Methods
   </a>
  </h3>
  <ul>
   <li>
    Methods are functions inherited from an object's class
   </li>
   <li>
    Find methods for datatype:
    <code>
     help(type_name)
    </code>
   </li>
   <li>
    Methods can be chained:
    <code>
     my_str.lower().strip()
    </code>
   </li>
   <li>
    CAUTION: some methods change the object they’re called on
   </li>
  </ul>
  <h2 id="functional-python">
   <a>
    3.2. Functional Python
   </a>
  </h2>
  <p>
   Core concepts of the functional approach to programming, see also [
   <a href="https://docs.python.org/3/howto/functional.html">
    1
   </a>
   ], [
   <a href="http://anandology.com/python-practice-book/functional-programming.html">
    2
   </a>
   ], [
   <a href="https://docs.python.org/3/library/functional.html">
    3
   </a>
   ]:
  </p>
  <ul>
   <li>
    <strong>
     Computation is the evaluation of functions
    </strong>
    ; code should be mostly functions
   </li>
   <li>
    <strong>
     Programming is done with expressions
    </strong>
    : pass the output of a function to another
   </li>
   <li>
    either by chaining (possible if each function returns an iterable)
   </li>
   <li>
    or by using intermediary variables
   </li>
   <li>
    <strong>
     No side-effects from computation
    </strong>
    : a function shouldn’t change values that are outside its proper scope (e.g. defining a variable in a function that reaches outside the function: def my_function(): global var_name, nonlocal var_name)
   </li>
   <li>
    be especially careful about mutable objects like lists &amp; dicts
   </li>
   <li>
    <strong>
     Functions are first-class citizens
    </strong>
    , since they can be both inputs to and outputs from other functions
    <ul>
     <li>
      <code>
       def my_func(other_func): ...
      </code>
     </li>
    </ul>
   </li>
   <li>
    <strong>
     Functions should be limited in scope and functionality
    </strong>
   </li>
   <li>
    e.g., not too many arguments
   </li>
   <li>
    e.g., prefer short functions that do one thing
   </li>
  </ul>
  <h3 id="lambdas">
   <a>
    3.2.1. Lambdas
   </a>
  </h3>
  <p>
   Anonymous functions that we won’t need to use again; one line long; can’t contain assignments; automatically return the last value calculated.
  </p>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="dt">filter</span>(<span class="kw">lambda</span> book: book.pages &gt;= <span class="dv">600</span>, BOOKS)
<span class="dt">reduce</span>(<span class="kw">lambda</span> x, y: x <span class="kw">if</span> <span class="dt">len</span>(x) &gt; <span class="dt">len</span>(y) <span class="kw">else</span> y, [s <span class="kw">for</span> s in strings])</code></pre>
  <h3 id="currying">
   <a>
    3.2.2. Currying
   </a>
  </h3>
  <p>
   Currying is the technique of translating the evaluation of a function that takes multiple arguments (or a tuple of arguments) into evaluating a sequence of functions, each with a single argument.
  </p>
  <h3 id="map-reduce-filter-etc.">
   <a>
    3.2.3. Map-reduce, filter, etc.
   </a>
  </h3>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="co"># map: transform every element of an iterable</span>
<span class="co"># similar to list comprehension: [my_func(i) for i in my_iterable]</span>
<span class="co"># prefer map to list comprehension when need to nest functions</span>
<span class="dt">list</span>(<span class="dt">map</span>(my_func, my_iterable))

<span class="co"># reduce: good algorithm for summing numbers, multiplying numbers</span>
<span class="ch">from</span> functools <span class="ch">import</span> <span class="dt">reduce</span>
<span class="kw">def</span> product(x,y): <span class="kw">return</span> x*y → <span class="dt">print</span>(<span class="dt">reduce</span>(product([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>])))

<span class="co"># sorting: operator module is helpful</span>
<span class="co"># access attributes of an object: attrgetter</span>
<span class="co"># access items in a dict: itemgetter</span>
<span class="dt">sorted</span>(my_data, key=itemgetter(‘dict_key_name’), reverse=<span class="ot">True</span>)
<span class="co"># key here is a **kwarg</span>
<span class="co"># see also: reversed()</span>

<span class="co"># filtering:</span>

<span class="co"># filter function tests every item in iterable, and keeps the truthy ones</span>
<span class="co"># equivalent to: [item for item in iterable if func(item)]</span>
<span class="kw">def</span> is_long_book(book):
    <span class="kw">return</span> book.pages &gt;= <span class="dv">600</span>
<span class="dt">filter</span>(is_long_book, books_data)

<span class="co">#  builds iterator from True elements of my_iterable or my_function(my_iterable)</span>
<span class="dt">filter</span>([my_function,] my_iterable)

<span class="co"># builds iterator from my_iterable's False elements</span>
<span class="ch">import</span> itertools
itertools.filterfalse(my_iterable)

<span class="co"># partial:</span>
<span class="ch">from</span> functools <span class="ch">import</span> partial
<span class="kw">def</span> markdown(book, discount):
    ...
std_discount = partial(markdown, discount=.<span class="dv">2</span>)
<span class="dt">print</span>(std_discount(my_data))</code></pre>
  <h2 id="test-driven-development">
   <a>
    3.3. Test-Driven Development
   </a>
  </h2>
  <ul>
   <li>
    TDD = write tests for code before writing code itself
   </li>
   <li>
    Doc tests are based on string comparison, so may have issues w/ floats; very code-specfic, not portable
   </li>
   <li>
    <a href="http://coverage.readthedocs.io/en/latest/">
     coverage
    </a>
   </li>
   <li>
    <a href="https://docs.python.org/3/library/unittest.html">
     unittest
    </a>
   </li>
  </ul>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="co"># write doc test</span>
<span class="kw">def</span> my_function():
  <span class="co">"""Explanation of function</span>
<span class="co">  do this code</span>
<span class="co">  expected_result</span>
<span class="co">  """</span>

<span class="co"># run doc tests</span>
python -m doctest filename.py

<span class="co"># testing the extent of testing</span>
pip install coverage
coverage run tests.py
coverage report -m  <span class="co"># in terminal</span>
coverage html  <span class="co"># in browser</span>

<span class="co"># unit tests</span>
python -m unittest tests.py
<span class="kw">if</span> <span class="ot">__name__</span> == ‘__main__’:
  unittest.main()

<span class="ch">import</span> unittest
<span class="kw">class</span> my_unittest(unittest.TestCase):
  <span class="kw">def</span> test_addition(<span class="ot">self</span>):
    <span class="kw">assert</span> <span class="dv">4</span> + <span class="dv">5</span> == <span class="dv">9</span>

<span class="co"># quantitative assertions:</span>
<span class="ot">self</span>.assertEqual(x, y)
<span class="ot">self</span>.assertNotEqual(x, y)
<span class="ot">self</span>.assertGreater(x, y)  <span class="co"># x &gt; y</span>
<span class="ot">self</span>.assertLess(x, y)
<span class="ot">self</span>.assertGreaterEqual(x, y)
<span class="ot">self</span>.assertLessEqual(x,y)

<span class="co"># logical assertions:</span>
<span class="ot">self</span>.assertTrue()
<span class="ot">self</span>.assertFalse(my_function(test_value))

<span class="co"># membership assertions:</span>
<span class="ot">self</span>.assertIn(x, y)  <span class="co"># x in y?</span>
<span class="ot">self</span>.assertNotIn(x,y)
<span class="ot">self</span>.assertIsInstance(x, y)

<span class="co"># exception assertions:</span>
<span class="kw">with</span> assertRaise(x): // code to test</code></pre>
  <h3 id="logging-errors-debugging">
   <a>
    3.3.1. Logging, errors, &amp; debugging
   </a>
  </h3>
  <pre class="sourceCode Python"><code class="sourceCode python"><span class="ch">import</span> logging
logging.basicConfig(filename=’fname.log’, level=logging.DEBUG)
log levels: critical, error, warning, info, debug, notset
logging.info(‘string to log’)
<span class="co"># https://docs.python.org/3/howto/logging.html</span>

<span class="ch">import</span> pdb
pdb.set_trace() <span class="co"># launches a psuedo-shell</span>
`help`
<span class="co"># type ‘n’ to run the next line of code</span>
<span class="co"># type ‘c’ to run as normal</span>
`exit()`</code></pre>
  <h1 id="sources">
   <a>
    4. Sources
   </a>
  </h1>
  <h2 id="references">
   <a>
    4.1. References
   </a>
  </h2>
  <ul>
   <li>
    <a href="https://docs.python.org/3/index.html">
     Official Python 3.5.2 documentation
    </a>
   </li>
   <li>
    <a href="http://code.activestate.com/recipes/langs/python/">
     Python cookbook
    </a>
   </li>
   <li>
    <a href="https://pypi.python.org/pypi">
     Python package index (PyPI)
    </a>
   </li>
   <li>
    <a href="https://blog.modeanalytics.com/python-data-cleaning-libraries/">
     Handy Python libraries for data cleaning
    </a>
   </li>
   <li>
    <a href="https://www.python.org/dev/peps/pep-0008/">
     PEP 8 - Style guide
    </a>
   </li>
   <li>
    <a href="http://python-history.blogspot.com/">
     Guido Rossum's Python history blog
    </a>
   </li>
  </ul>
  <h2 id="read">
   <a>
    4.2. Read
   </a>
  </h2>
  <ul>
   <li>
    <a href="https://www.coursera.org/learn/python/home/welcome">
     Coursera - Introduction to Python
    </a>
   </li>
   <li>
    <a href="https://www.coursera.org/learn/python-data">
     Coursera - Python data structures
    </a>
   </li>
   <li>
    <a href="https://teamtreehouse.com/library/python-basics">
     Treehouse - Python basics
    </a>
   </li>
   <li>
    <a href="https://teamtreehouse.com/library/python-collections">
     Treehouse - Python collections
    </a>
   </li>
   <li>
    <a href="https://teamtreehouse.com/library/objectoriented-python">
     Treehouse - Object-oriented Python
    </a>
   </li>
   <li>
    <a href="https://teamtreehouse.com/library/write-better-python">
     Treehouse - Write better Python
    </a>
   </li>
   <li>
    <a href="https://teamtreehouse.com/library/dates-and-times-in-python">
     Treehouse - Datetimes in Python
    </a>
   </li>
   <li>
    <a href="https://teamtreehouse.com/library/python-testing">
     Treehouse - Python testing
    </a>
   </li>
   <li>
    <a href="https://teamtreehouse.com/library/functional-python">
     Treehouse - Functional Python
    </a>
   </li>
   <li>
    <a href="https://teamtreehouse.com/library/python-decorators">
     Treehouse - Python decorators
    </a>
   </li>
   <li>
    <a href="https://teamtreehouse.com/library/python-comprehensions-2">
     Treehouse - Python comprehensions
    </a>
   </li>
   <li>
    <a href="https://teamtreehouse.com/library/data-science-basics">
     Treehouse - Data science basics
    </a>
   </li>
   <li>
    <a href="https://teamtreehouse.com/library/python-file-io">
     Treehouse - Python file I/O
    </a>
   </li>
   <li>
    <a href="https://teamtreehouse.com/library/csv-and-json-in-python">
     Treehouse - CSV &amp; JSON in Python
    </a>
   </li>
   <li>
    <a href="https://www.datacamp.com/courses/intro-to-python-for-data-science">
     DataCamp - Introduction to Python for data science
    </a>
   </li>
   <li>
    <a href="http://nvie.com/posts/iterators-vs-generators/">
     Iterables vs. iterators vs. generators
    </a>
   </li>
  </ul>
  <h2>
   <a name="4.3.-unread">
    4.3. Unread
   </a>
  </h2>
  <ul>
   <li>
    <a href="http://nedbatchelder.com/blog/201605/generator_comprehensions.html">
     Generator comprehensions
    </a>
   </li>
   <li>
    <a href="https://www.datacamp.com/courses/intermediate-python-for-data-science">
     DataCamp - Intermediate Python for data science
    </a>
   </li>
   <li>
    <a href="https://www.datacamp.com/community/tutorials/18-most-common-python-list-questions-learn-python#gs.rD3n5og">
     DataCamp - 18 most common questions about Python lists
    </a>
   </li>
   <li>
    <a href="https://www.datacamp.com/courses/intermediate-python-for-data-science">
     The Hitchhiker's Guide to Python
    </a>
   </li>
   <li>
    <a href="https://developers.google.com/edu/python/">
     Google's Python class, with exercises
    </a>
   </li>
   <li>
    <a href="https://www.fullstackpython.com/introduction.html">
     Full stack Python tutorial
    </a>
   </li>
   <li>
    <a href="https://www.lynda.com/Numpy-tutorials/Introduction-Data-Analysis-Python/419162-2.html">
     Lynda - Introduction to data analysis using Numpy
    </a>
   </li>
   <li>
    <a href="https://www.udacity.com/course/programming-foundations-with-python--ud036">
     Udacity - Object-oriented programming with Python
    </a>
   </li>
   <li>
    <a href="http://people.duke.edu/~ccc14/sta-663/index.html">
     Computational statistics in Python
    </a>
   </li>
   <li>
    <a href="http://farmdev.com/src/secrets/magicmethod/">
     Python's magic methods
    </a>
   </li>
   <li>
    <a href="http://chrisalbon.com/python/pandas_apply_operations_to_dataframes.html">
     Applying operations over pandas dataframes
    </a>
   </li>
   <li>
    <em>
     High Performance Python
    </em>
   </li>
   <li>
    <em>
     Python for Data Analysis: Data Wrangling with Pandas, NumPy, and IPython
    </em>
   </li>
   <li>
    <em>
     Doing Math With Python
    </em>
   </li>
   <li>
    <a href="https://www.packtpub.com/big-data-and-business-intelligence/ipython-interactive-computing-and-visualization-cookbook">
     <em>
      IPython Interactive Computing and Visualization Cookbook
     </em>
    </a>
   </li>
   <li>
    <em>
     Data Wrangling with Python
    </em>
   </li>
   <li>
    <a href="http://www.pythontutor.com/visualize.html#mode=edit">
     Crazy! visualizes how Python executes your code
    </a>
   </li>
   <li>
    <a href="https://github.com/donnemartin/data-science-ipython-notebooks">
     donnemartin's IPython notebooks repository
    </a>
   </li>
   <li>
    <a href="https://github.com/nborwankar/LearnDataScience/tree/master/notebooks">
     nborwankar's IPython notebooks repository
    </a>
   </li>
   <li>
    <a href="http://www.pythonchallenge.com/">
     PythonChallenge.com
    </a>
   </li>
   <li>
    <a href="http://www.afterhoursprogramming.com/tutorial/Python/Python-Quiz/">
     Python quiz
    </a>
   </li>
   <li>
    <a href="http://wiki.openhatch.org/Intermediate_Python_Workshop/Projects">
     Intermediate Python challenges
    </a>
   </li>
  </ul>
 </body>
</html>
